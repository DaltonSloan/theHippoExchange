FROM mcr.microsoft.com/dotnet/sdk:9.0

# Nice-to-haves for dev
RUN apt-get update && apt-get install -y git curl wget vim sudo && rm -rf /var/lib/apt/lists/*

WORKDIR /workspace

# Non-root (optional in dev)
RUN useradd -ms /bin/bash dev && chown -R dev:dev /workspace
RUN echo 'dev ALL=(ALL) NOPASSWD:ALL' >> /etc/sudoers
USER dev

CMD ["tail", "-f", "/dev/null"]
